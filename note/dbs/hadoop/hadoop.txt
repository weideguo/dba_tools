cloudera hadoop 配置文件路径
/etc/hadoop/conf
/etc/hive/conf
/etc/hbase/conf


   

每个节点有多个服务

HDFS NameNode            管理hdfs master节点
HDFS DataNode            管理分布式文件系统在节点中的文件块

YARN ResourceManager     master节点
YARN NodeManager
#以下已经被yarn取代？
#JobTracker   管理job
#TaskTracker  管理 job task （一个job会有多个task？）


yarn hadoop集群资源管理器系统，旧版本为MapReduce，控制各个节点的CPU、内存、带宽

Yarn 将CPU核数，内存这些计算资源都封装成为一个个的容器（Container）
容器由 NodeManager 启动和管理，并被它所监控。
容器被 ResourceManager 进行调度。





HDFS资源URI格式：scheme://authority/path
scheme：协议名，file或hdfs
authority：namenode主机名
path：路径
示例：hdfs://<namenode>:8020/user/chunk/test.txt

在core-site.xml里配置了 fs.default.name=hdfs://namenode:8020，则仅使用/user/chunk/test.txt即可。

#查看帮助
hadoop -h

hadoop fs -put local_path hdfs_path   ###将本地文件上传到hdfs
hadoop fs -get hdfs_path local_path	  ###将hdfs文件下载到本地



#构建测试的文件
echo "a aa aaa"     > wc-in/a.txt
echo "b cc eee ddd" > wc-in/a.txt

#查看hdfs的目录
hadoop fs -ls /

#上传目录到hdfs
hadoop fs -put wc-in wc-in  

#使用自带的样例测试计算字符数
#https://github.com/apache/hadoop/tree/trunk/hadoop-mapreduce-project/hadoop-mapreduce-examples/src/main/java/org/apache/hadoop/examples
export HADOOP_HOME=/opt/cloudera/parcels/CDH           #通过查看hadoop命令确定（shell格式）
hadoop jar $HADOOP_HOME/jars/hadoop-examples.jar wordcount wc-in wc-out
#下载到本地
hadoop fs -get wc-out wc-out
#查看结果	 
cat wc-out/*


#自定义map/reduce程序的执行
hadoop jar /path_to_jar/name.jar         #以jar格式运行 可以在之后加参数
hadoop path.to.ClassName                 #以.class文件运行 可以在之后加参数





#重新加载配置文件 
#用于配置更改时 如增加节点/删除节点
hdfs dfsadmin -refreshNodes
yarn rmadmin –refreshNodes



#集群间复制
hadoop distcp hdfs://nn1:8020/foo/bar   hdfs://nn2:8020/bar/foo







